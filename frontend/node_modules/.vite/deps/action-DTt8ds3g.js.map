{"version":3,"file":"action-DTt8ds3g.js","names":["o","r","Action"],"sources":["../../react-auth-kit/dist/AuthContext.js","../../react-auth-kit/dist/utils/action.js"],"sourcesContent":["\"use strict\";\n'use client';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.useReactAuthKitConfig = useReactAuthKitConfig;\nexports.useReactAuthKitRouter = useReactAuthKitRouter;\nexports.useReactAuthKitStore = useReactAuthKitStore;\nvar _react = require(\"react\");\nvar _error = require(\"./error\");\nfunction getContext() {\n  var context = (0, _react.createContext)(null);\n  if (process.env.NODE_ENV !== 'production') {\n    context.displayName = 'ReactAuthKit';\n  }\n  return context;\n}\nvar AuthKitContext = getContext();\nfunction useReactAuthKitStore() {\n  var context = (0, _react.useContext)(AuthKitContext);\n  if (context === null) {\n    throw new _error.AuthKitProviderMissingError('Auth Provider is missing. ' + 'Make sure, you are using this component inside the auth provider.');\n  }\n  return context.store;\n}\nfunction useReactAuthKitRouter() {\n  var context = (0, _react.useContext)(AuthKitContext);\n  if (context === null) {\n    throw new _error.AuthKitProviderMissingError('Auth Provider is missing. ' + 'Make sure, you are using this component inside the auth provider.');\n  }\n  return context.router;\n}\nfunction useReactAuthKitConfig() {\n  var context = (0, _react.useContext)(AuthKitContext);\n  if (context === null) {\n    throw new _error.AuthKitProviderMissingError('Auth Provider is missing. ' + 'Make sure, you are using this component inside the auth provider.');\n  }\n  return context.config;\n}\nvar _default = exports.default = AuthKitContext;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar Action = function () {\n  function Action() {\n    _classCallCheck(this, Action);\n  }\n  return _createClass(Action, null, [{\n    key: \"doSignIn\",\n    value: function doSignIn(signInParams, store) {\n      var authType = signInParams.auth.type || 'Bearer';\n      var authToken = signInParams.auth.token;\n      store.set({\n        auth: {\n          token: authToken,\n          type: authType\n        },\n        refresh: signInParams.refresh,\n        userState: signInParams.userState || {}\n      });\n    }\n  }, {\n    key: \"doRefresh\",\n    value: function doRefresh(refreshTokenParam, store) {\n      var ret = {\n        auth: {\n          token: refreshTokenParam.newAuthToken,\n          type: refreshTokenParam.newAuthTokenType || 'Bearer'\n        }\n      };\n      if (refreshTokenParam.newAuthUserState) {\n        ret = _objectSpread(_objectSpread({}, ret), {}, {\n          userState: refreshTokenParam.newAuthUserState\n        });\n      }\n      if (refreshTokenParam.newRefreshToken) {\n        ret = _objectSpread(_objectSpread({}, ret), {}, {\n          refresh: refreshTokenParam.newRefreshToken\n        });\n      }\n      store.set(ret);\n    }\n  }, {\n    key: \"doSignOut\",\n    value: function doSignOut(store) {\n      store.set({\n        auth: null\n      });\n    }\n  }]);\n}();\nvar _default = exports.default = Action;"],"mappings":"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"}